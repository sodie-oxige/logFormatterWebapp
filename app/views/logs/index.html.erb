<h1><%= t '.title' %></h1>
<% if @logs %>
<table>
    <tr>
        <th><%= Log.human_attribute_name(:name) %></th>
        <th><%= Log.human_attribute_name(:date) %></th>
        <th><%= Log.human_attribute_name(:gm) %></th>
        <th colspan=4><%= AppearPc.human_attribute_name(:pc) %></th>
        <th></th>
    </tr>
    <% @logs.each do |log| %>
    <tr data-url="<%= log_path(log.id) %>">
        <td><%= log.name %></td>
        <td><%= log.date %></td>
        <td><%= Pl.find(log.gm).name %></td>
        <% appear_pcs = AppearPc.where(log_id: log.id) %>
        <% appear_pcs.each do |appear_pc| %>
            <td><%= Pc.find(appear_pc.pc).name %></td>
        <% end %>
        <% (4-appear_pcs.size).times do %>
            <td></td>
        <% end %>
        <td>
            <%= link_to edit_log_path(log.id) do %>
                <i class="bi bi-vector-pen"></i>
            <% end %>
        </td>
    </tr>
    <% end %>
</table>
<% else %>
    <p>ここにhtmlファイルをドラッグ＆ドロップ</p>
<% end %>
<div style="display:none;">
    <%= form_with url: logs_pre_new_path, id: "dropFileForm" do |form| %>
        <%= form.file_field(:file) %>
        <%= form.submit %>
    <% end %>
</div>

<% content_for :js do %>
    <%= javascript_import_module_tag "logs" %>
<% end %>